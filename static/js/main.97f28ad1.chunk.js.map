{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","world_map","useRef","useState","setCountries","data","setData","selectedOption","setSelectedOption","data_gross","setData_gross","dimensions","marginTop","marginBottom","marginLeft","marginRight","width","height","mapWidth","mapHeight","ctrWidth","ctrHeight","BOXSIZE","svg","d3","attr","tooltip","genBarChart","specificData","selectAll","remove","copiedData","yData","Object","values","console","log","xScale","domain","range","xScaleIndex","yScale","invertyScale","xAxis","yAxis","xAxisGroup","append","call","style","yAxisGroup","text","join","enter","d","i","update","exit","transition","useEffect","a","info","entries","map","startsWith","replace","trim","replaceAll","temp","parseFloat","isNaN","fromEntries","parsedData","ele","includes","data_geo","projection","geo","scale","center","translate","features","path","color","t","length","colorScale","places","name","Delegation","lat","lng","svg_geo","find","datum","toLowerCase","properties","coor","runningFunction","on","e","preventDefault","value","target","__data__","stopPropagation","x","y","this","select","duration","Math","round","genBarChart_Gross","onChange","selected","id","ref","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.97f28ad1.chunk.js","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport * as d3 from 'd3';\nimport * as geo from 'd3-geo'\nimport * as d3Color from 'd3-scale-chromatic'\nimport \"./App.css\"\n\nfunction App() {\n\n  const world_map = useRef()\n\n  const [countries, setCountries] = useState(null)\n  const [data, setData] = useState(null)\n  const [selectedOption, setSelectedOption] = useState('population')\n  const [data_gross, setData_gross] = useState(null)\n\n  const dimensions = {\n    marginTop: 30, marginBottom: 30, marginLeft: 30, marginRight: 30,\n    width: 500, height: 500, mapWidth: 600, mapHeight: 600\n  }\n\n  dimensions.ctrWidth = dimensions.width - dimensions.marginLeft - dimensions.marginRight\n  dimensions.ctrHeight = dimensions.height - dimensions.marginTop - dimensions.marginBottom\n\n\n  const BOXSIZE = 30\n\n  const svg = d3.select(\"#svg1\")\n    .attr(\"height\", dimensions.height)\n    .attr(\"width\", 800)\n    .attr('transform', `translate(${dimensions.marginLeft},${dimensions.marginTop})`)\n\n\n  const tooltip = d3.select('#tooltip');\n\n\n\n  const genBarChart = (specificData) => {\n    svg.selectAll('*').remove();\n    let copiedData = { ...specificData }\n\n    delete copiedData[\"% Women\"]\n    delete copiedData[\"Delegation\"]\n    delete copiedData[\"Men\"]\n    delete copiedData[\"Women\"]\n    delete copiedData[\"Total\"]\n    delete copiedData[\"lat\"]\n    delete copiedData[\"lng\"]\n\n    const yData = Object.values(copiedData)\n    console.log(yData)\n\n    const xScale = d3.scaleBand().domain([\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\"]).range([0, dimensions.ctrWidth])\n    const xScaleIndex = d3.scaleBand().domain([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]).range([0, dimensions.ctrWidth])\n    const yScale = d3.scaleLinear().domain([0, d3.max(yData)]).range([dimensions.ctrHeight, 0])\n    const invertyScale = d3.scaleLinear().domain([0, d3.max(yData)]).range([0, dimensions.ctrHeight])\n\n\n    const xAxis = d3.axisBottom(xScale)\n    const yAxis = d3.axisLeft(yScale)\n    const xAxisGroup = svg.append(\"g\").call(xAxis).style(\"transform\", `translate(${110}px,${dimensions.ctrHeight}px)`)\n    const yAxisGroup = svg.append(\"g\").call(yAxis).style(\"transform\", `translate(${110}px, ${0}px)`)\n\n    xAxisGroup.append(\"text\").attr(\"x\", dimensions.ctrWidth / 2).attr(\"y\", dimensions.marginBottom)\n      .attr(\"fill\", 'black')\n      .text(\"Years\").style(\"font-weight\", \"bold\")\n    yAxisGroup.append(\"text\").attr(\"x\", -40).attr(\"y\", dimensions.ctrHeight / 2).attr(\"fill\", \"black\")\n      .text(\"Pop.(10k)\").style(\"font-weight\", \"bold\")\n\n    svg.append(\"g\").style(\"transform\", `translate(${110}px,${0}px)`).selectAll(\"rect\").data(yData).join(\n      (enter) => enter.append('rect')\n        .attr('width', d => BOXSIZE)\n        .attr('height', 0)\n        .attr('x', (d, i) => xScaleIndex(i))\n        .attr('y', dimensions.ctrHeight)\n        .attr('fill', '#37A4DE'),\n      (update) => update,\n      (exit) => exit.attr('fill', '#f39233')\n        .transition()\n        .attr('y', dimensions.ctrHeight)\n        .attr('height', 0)\n        .remove()\n    ).transition()\n      .attr(\"height\", d => invertyScale(d)).attr(\"width\", BOXSIZE)\n      .attr(\"x\", (d, i) => dimensions.ctrWidth * i / 10 + (dimensions.ctrWidth / 10 - BOXSIZE) / 2)\n      .attr(\"y\", d => dimensions.ctrHeight - invertyScale(d))\n  }\n\n\n  const genBarChart_Gross = (specificData) => {\n    svg.selectAll('*').remove();\n    let copiedData = {...specificData}\n\n    delete copiedData[\"Region\"]\n\n    let yData = Object.values(copiedData)\n\n    const xScale = d3.scaleBand().domain([\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\"]).range([0, dimensions.ctrWidth])\n    const xScaleIndex = d3.scaleBand().domain([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]).range([0, dimensions.ctrWidth])\n    const yScale = d3.scaleLinear().domain([0, d3.max(yData)]).range([dimensions.ctrHeight, 0])\n    const invertyScale = d3.scaleLinear().domain([0, d3.max(yData)]).range([0, dimensions.ctrHeight])\n\n\n    const xAxis = d3.axisBottom(xScale)\n    const yAxis = d3.axisLeft(yScale)\n    const xAxisGroup = svg.append(\"g\").call(xAxis).style(\"transform\", `translate(${110}px,${dimensions.ctrHeight}px)`)\n    const yAxisGroup = svg.append(\"g\").call(yAxis).style(\"transform\", `translate(${110}px, ${0}px)`)\n\n    xAxisGroup.append(\"text\").attr(\"x\", dimensions.ctrWidth / 2).attr(\"y\", dimensions.marginBottom)\n      .attr(\"fill\", 'black')\n      .text(\"Years\").style(\"font-weight\", \"bold\")\n    yAxisGroup.append(\"text\").attr(\"x\", -40).attr(\"y\", dimensions.ctrHeight / 2).attr(\"fill\", \"black\")\n      .text(\"Gross\").style(\"font-weight\", \"bold\")\n\n    svg.append(\"g\").style(\"transform\", `translate(${110}px,${0}px)`).selectAll(\"rect\").data(yData).join(\n      (enter) => enter.append('rect')\n        .attr('width', d => BOXSIZE)\n        .attr('height', 0)\n        .attr('x', (d, i) => xScaleIndex(i))\n        .attr('y', dimensions.ctrHeight)\n        .attr('fill', '#37A4DE'),\n      (update) => update,\n      (exit) => exit.attr('fill', '#f39233')\n        .transition()\n        .attr('y', dimensions.ctrHeight)\n        .attr('height', 0)\n        .remove()\n    ).transition()\n      .attr(\"height\", d => invertyScale(d)).attr(\"width\", BOXSIZE)\n      .attr(\"x\", (d, i) => dimensions.ctrWidth * i / 10 + (dimensions.ctrWidth / 10 - BOXSIZE) / 2)\n      .attr(\"y\", d => dimensions.ctrHeight - invertyScale(d))\n\n  }\n\n  useEffect(() => {\n\n    const runningFunction = async () => {\n\n      const data = await d3.csv(\"population_info.csv\", (info) => {\n        info = Object.entries(info)\n        info = info.map((data) => {\n          if (data[0].startsWith(\"Population\")) {\n            data[0] = data[0].replace(\"Population\", \"\").trim()\n          }\n          data[1] = data[1].replaceAll(\",\", \"\")\n          let temp = parseFloat(data[1])\n          if (isNaN(temp)) {\n            return [data[0], data[1]]\n          } else {\n            return [data[0], temp]\n          }\n        })\n        return Object.fromEntries(info)\n      })\n\n\n      let data_gross = await d3.csv(\"gross_china.csv\" , (info) => {\n        let parsedData = Object.entries(info)\n        parsedData = parsedData.map((ele) => {\n          if (ele[1].includes(\",\")) {\n            ele[1] = ele[1].replaceAll(\",\", \"\")\n          }\n          let temp = parseFloat(ele[1])\n          if (isNaN(temp)) {\n            return [ele[0], ele[1]]\n          } else {\n            return [ele[0], temp]\n          }\n        })\n        return Object.fromEntries(parsedData)\n      })\n\n\n      console.log(\"data_gross:\", data_gross)\n\n      setData_gross(data_gross)\n\n      const data_geo = await d3.json('/chinaGeo.json');\n\n      const projection = geo.geoMercator()\n        .scale(550)\n        .center([105, 38])\n        .translate([dimensions.mapWidth / 2, dimensions.mapHeight / 2]);\n\n      console.log(data_geo.features)\n\n\n      const path = geo.geoPath(projection);\n\n      const color = d3.quantize((t) => d3.interpolateOranges(t), data_geo[\"features\"].length)\n      const colorScale = d3.scaleQuantize().domain(d3.extent(data, d => d[\"2020\"])).range(color)\n\n      let places = data.map((d) => {\n        return { name: d.Delegation, lat: parseFloat(d.lat), log: parseFloat(d.lng) }\n      })\n\n\n      const svg_geo = d3.select(\"#svg\")\n        .attr(\"width\", dimensions.mapWidth)\n        .attr(\"height\", dimensions.mapHeight)\n\n      svg_geo.selectAll('path')\n        .data(data_geo.features)\n        .enter()\n        .append('path')\n        .attr('d', path)\n        .attr('fill', function (d, i) {\n          return colorScale(data.find((datum) => datum.Delegation.toLowerCase() === d.properties.name.toLowerCase())[\"2020\"]);\n        })\n        .attr('stroke', 'rgba(0, 0, 0, 1')\n        .attr('stroke-width', 1);\n\n      const location = svg_geo.selectAll('.location')\n        .data(places)\n        .enter()\n        .append('g')\n        .attr('class', 'location')\n        .attr('transform', (d) => {\n          const coor = projection([d.log, d.lat]);\n          return 'translate(' + coor[0] + ',' + coor[1] + ')';\n        });\n\n\n      location.append('circle')\n        .attr('r', 4)\n        .attr('fill', '#e91e63')\n        .attr('class', 'location');\n\n      setData(data)\n      setCountries(data.map((datum) => datum.Delegation))\n\n    }\n    runningFunction()\n  }, [])\n\n\n  d3.select(\"#metric\").on('change', function (e) {\n    e.preventDefault()\n    let specificData = data.find(datum => datum.Delegation === this.value)\n    genBarChart(specificData)\n  })\n\n\n  d3.select(\"#svg\").selectAll('.location').on('touchmouse mousemove', function (d) {\n    let specificData = data.find(datum => datum.Delegation === d.target.__data__.name)\n    d.stopPropagation();\n    tooltip\n      .style('left', d.x + 20 + 'px')\n      .style('top', d.y + 'px')\n      .style('opacity', 1);\n    d3.select(this).select('circle').transition()\n      .duration(150)\n      .attr('r', 8);\n    tooltip.select(\"#country\").text(`Country: ${d.target.__data__.name}`).style(\"color\", \"black\")\n    tooltip.select(\"#population\").text(`Population in 2020: ${specificData[\"2020\"]}`).style(\"color\", \"black\")\n    tooltip.select(\"#percentage\").text(`2010-2020 change: ${Math.round((specificData['2020'] - specificData['2011']) * 100 / specificData['2011'], 2)}%`).style(\"color\", \"black\")\n  }).on('mouseout', function (d) {\n    d.stopPropagation();\n    tooltip.style('opacity', 0);\n    d3.select(this)\n      .select('circle')\n      .transition()\n      .duration(150)\n      .attr('r', 4);\n  }).on(\"click\", (d) => {\n    d.stopPropagation();\n    console.log(\"this is onClick event\", d);\n    if (selectedOption === \"population\") {\n      genBarChart(data.find(datum => datum.Delegation === d.target.__data__.name))\n    } else {\n      genBarChart_Gross(data_gross.find(datum => datum[\"Region\"].toLowerCase() === d.target.__data__.name.toLowerCase() ))\n    }\n    \n  })\n\n\n  const onChangeHandler = (e) => {\n    e.preventDefault();\n    console.log(e.target.value)\n    setSelectedOption(e.target.value)\n  }\n\n  return (\n    <>\n      <p>Here is the title for the graphic</p>\n      <select onChange={onChangeHandler}>\n        <option value=\"population\" selected=\"selected\">population</option>\n        <option value=\"gross\">gross</option>\n      </select>\n      <div id=\"container\">\n        <div id=\"world\">\n          <svg id=\"svg\"></svg>\n          <div id=\"tooltip\">\n            <span id=\"country\"></span>\n            <br />\n            <span id=\"population\"></span>\n            <br />\n            <span id=\"percentage\"></span>\n          </div>\n        </div>\n        {/*<select id=\"metric\">\n      {countries ? countries.map((country) => {\n        return <option value={country}>{country}</option>\n      }) : null}\n    </select>*/}\n        <div id=\"world-map\">\n          <svg ref={world_map} id=\"svg1\">\n          </svg>\n        </div>\n\n\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}